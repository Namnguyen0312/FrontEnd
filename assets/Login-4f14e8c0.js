import{F as g,a as v,c as S,b as u}from"./vee-validate.esm-0c884474.js";import{_ as y,u as k,f as c,o as F,c as V,a as s,g as n,i as m,n as _,t as p,l as x,b as h,p as L,k as q,q as A}from"./index-8c9d47a6.js";const U={setup(){return{AccountStore:k()}},components:{Form:g,Field:v},data(){return{schema:S().shape({username:u().required("Username is required"),password:u().required("Password is required")}),user:{username:"",password:""}}},methods:{async submitFormLogin(){try{if(await this.AccountStore.Login({username:this.user.username,password:this.user.password}),this.AccountStore.account)await this.$router.push({name:"contactbook"});else{alert("Username or password is incorrect");return}}catch(e){console.log(e)}}}},i=e=>(L("data-v-c792a6e1"),e=e(),q(),e),I={class:"container_form d-flex align-items-center justify-content-center"},B={class:"card"},C=i(()=>s("h4",{class:"form-title"},"Login",-1)),N={class:"card-body"},D={class:"form-group"},P=i(()=>s("label",null,"Username",-1)),j={class:"invalid-feedback"},z={class:"form-group"},E=i(()=>s("label",null,"Password",-1)),R={class:"invalid-feedback"},T={class:"form-group"},$=["disabled"],G={class:"spinner-border spinner-border-sm mr-1"};function H(e,t,J,K,o,f){const l=c("Field"),b=c("router-link"),w=c("Form");return F(),V("div",I,[s("div",B,[C,s("section",N,[n(w,{onSubmit:f.submitFormLogin,"validation-schema":o.schema},{default:m(({errors:a,isSubmitting:d})=>[s("section",D,[P,n(l,{name:"username",modelValue:o.user.username,"onUpdate:modelValue":t[0]||(t[0]=r=>o.user.username=r),type:"text",class:_(["form-control",{"is-invalid":a.username}])},null,8,["modelValue","class"]),s("section",j,p(a.username),1)]),s("section",z,[E,n(l,{name:"password",modelValue:o.user.password,"onUpdate:modelValue":t[1]||(t[1]=r=>o.user.password=r),type:"password",class:_(["form-control",{"is-invalid":a.password}])},null,8,["modelValue","class"]),s("section",R,p(a.password),1)]),s("section",T,[s("button",{class:"btn btn-primary",disabled:d},[x(s("span",G,null,512),[[A,d]]),h(" Login ")],8,$),n(b,{to:"register",class:"btn btn-link"},{default:m(()=>[h("Register")]),_:1})])]),_:1},8,["onSubmit","validation-schema"])])])])}const Q=y(U,[["render",H],["__scopeId","data-v-c792a6e1"]]);export{Q as default};
