import{C as r}from"./ContactForm-80f7ddb4.js";import{C as c}from"./contact.service-f6bb579a.js";import{_ as i,f as h,o as u,c as l,g as m,a as n,t as p,j as d}from"./index-1f56e4ca.js";import"./vee-validate.esm-be499f22.js";const g={components:{ContactForm:r},props:{id:{type:String,required:!0}},data(){return{contact:{},message:""}},methods:{async getContact(t){try{this.contact=await c.get(t),console.log(this.id)}catch(o){console.log(o),this.$router.push({name:"notfound",params:{pathMatch:this.$route.path.split("/").slice(1)},query:this.$route.query,hash:this.$route.hash})}},async updateContact(t){try{await c.update(this.contact._id,t),this.$router.push({name:"contactbook"}),this.message="Liên hệ được cập nhật thành công."}catch(o){console.log(o)}},async deleteContact(){if(confirm("Bạn muốn xóa Liên hệ này?"))try{await c.delete(this.contact._id),this.$router.push({name:"contactbook"})}catch(t){console.log(t)}}},created(){this.getContact(this.id),this.message="",console.log("update")}},_={key:0,class:"page"},C=n("h4",null,"Hiệu chỉnh Liên hệ",-1);function f(t,o,y,k,e,a){const s=h("ContactForm");return e.contact?(u(),l("div",_,[C,m(s,{contact:e.contact,"onSubmit:contact":a.updateContact,"onDelete:contact":a.deleteContact},null,8,["contact","onSubmit:contact","onDelete:contact"]),n("p",null,p(e.message),1)])):d("",!0)}const B=i(g,[["render",f]]);export{B as default};
